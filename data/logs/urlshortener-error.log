2018-05-26 13:40:28 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/restfulpy/controllers.py", line 18, in __call__
    return super().__call__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 66, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Non-hexadecimal digit found
2018-05-26 13:55:03 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/restfulpy/controllers.py", line 18, in __call__
    return super().__call__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/practice/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 66, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Non-hexadecimal digit found
2018-05-27 11:27:51 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 29, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Odd-length string
2018-05-27 11:27:55 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 63, in post
    return dict(hash_id=codec.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    from pudb import set_trace; set_trace()
ModuleNotFoundError: No module named 'pudb'
2018-05-27 11:27:55 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 29, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Odd-length string
2018-05-27 11:29:03 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 29, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Odd-length string
2018-05-27 11:29:28 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(codec.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 29, in resolve
    key = binascii.unhexlify(hexstring)
binascii.Error: Odd-length string
2018-05-27 12:21:24 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 78, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/exceptions.py", line 78, in __init__
    context.response_headers.add_header('Location', location)
  File "/usr/lib/python3.6/wsgiref/headers.py", line 175, in add_header
    _value = self._convert_string_type(_value)
  File "/usr/lib/python3.6/wsgiref/headers.py", line 46, in _convert_string_type
    " of type str (got {0})".format(repr(value)))
AssertionError: Header names/values must be of type str (got 0)
2018-05-27 12:21:28 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 74, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 39, in store
    new_url = Url(url=url)
NameError: name 'Url' is not defined
2018-05-27 12:21:28 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 78, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/exceptions.py", line 78, in __init__
    context.response_headers.add_header('Location', location)
  File "/usr/lib/python3.6/wsgiref/headers.py", line 175, in add_header
    _value = self._convert_string_type(_value)
  File "/usr/lib/python3.6/wsgiref/headers.py", line 46, in _convert_string_type
    " of type str (got {0})".format(repr(value)))
AssertionError: Header names/values must be of type str (got 0)
2018-05-27 12:34:28 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 82, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 48, in resolve
    url =  session.query(Url).filter_by(id=db_id).first()
NameError: name 'session' is not defined
2018-05-27 12:34:31 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 78, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 40, in store
    new_url = Url(url=url)
NameError: name 'Url' is not defined
2018-05-27 12:34:31 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 82, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 48, in resolve
    url =  session.query(Url).filter_by(id=db_id).first()
NameError: name 'session' is not defined
2018-05-27 12:34:46 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 82, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 48, in resolve
    url =  session.query(Url).filter_by(id=db_id).first()
NameError: name 'session' is not defined
2018-05-27 12:38:41 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 79, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 42, in store
    session.add(new_url)
NameError: name 'session' is not defined
2018-05-27 12:38:41 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 83, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in resolve
    url =  session.query(Url).filter_by(id=db_id).first()
NameError: name 'session' is not defined
2018-05-27 12:38:55 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 83, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in resolve
    url =  session.query(Url).filter_by(id=db_id).first()
NameError: name 'session' is not defined
2018-05-27 12:45:47 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2946, in _execute_and_instances
    close_with_result=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2955, in _get_bind_args
    **kw
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2937, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 388, in _connection_for_bind
    self._assert_active()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) no such table: urls [SQL: 'INSERT INTO urls (url) VALUES (?)'] [parameters: ('www.varzesh3.com',)] (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:15:52 - main - ERROR - None
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 156, in save_obj
    base_mapper, states, uowtransaction
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 286, in _organize_states_for_save
    states):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 1252, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 294, in connection
    return self._connection_for_bind(bind, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 398, in _connection_for_bind
    conn = self._parent._connection_for_bind(bind, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"
 (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:15:52 - main - ERROR - None
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2946, in _execute_and_instances
    close_with_result=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2955, in _get_bind_args
    **kw
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2937, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"
 (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:36:03 - main - ERROR - None
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2946, in _execute_and_instances
    close_with_result=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2955, in _get_bind_args
    **kw
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2937, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"
 (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:36:06 - main - ERROR - None
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 156, in save_obj
    base_mapper, states, uowtransaction
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 286, in _organize_states_for_save
    states):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 1252, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 294, in connection
    return self._connection_for_bind(bind, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 398, in _connection_for_bind
    conn = self._parent._connection_for_bind(bind, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"
 (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:36:06 - main - ERROR - None
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2946, in _execute_and_instances
    close_with_result=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2955, in _get_bind_args
    **kw
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2937, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1035, in connection
    execution_options=execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 1040, in _connection_for_bind
    engine, execution_options)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    conn = bind.contextual_connect()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2123, in contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2162, in _wrap_pool_connect
    e, dialect, self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception_noconnection
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 2158, in _wrap_pool_connect
    return fn()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 403, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 788, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 532, in checkout
    rec = pool._do_get()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1193, in _do_get
    self._dec_overflow()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 1190, in _do_get
    return self._create_connection()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 350, in _create_connection
    return _ConnectionRecord(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 477, in __init__
    self.__connect(first_connect_check=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/pool.py", line 671, in __connect
    connection = pool._invoke_creator(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/strategies.py", line 106, in connect
    return dialect.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 410, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/psycopg2/__init__.py", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"
FATAL:  password authentication failed for user "postgres"
 (Background on this error at: http://sqlalche.me/e/e3q8)
2018-05-27 13:43:43 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:43:44 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:09 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:11 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:11 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:12 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:13 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:16 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:44:16 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:57:06 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:57:30 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 44, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 13:57:30 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:07:00 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:07:42 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 81, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 45, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:07:42 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:22:12 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:31:41 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 81, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 92, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    hash_id = hashids.encode(new_url.id)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/hashids.py", line 226, in encode
    if not (values and all(_is_uint(x) for x in values)):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/hashids.py", line 226, in <genexpr>
    if not (values and all(_is_uint(x) for x in values)):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/hashids.py", line 27, in _is_uint
    return number == int(number) and number >= 0
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'
2018-05-27 14:31:41 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:33:34 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:33:40 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 81, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), 'w...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('url_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:33:40 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:45:53 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:46:03 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 81, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 14:46:03 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 51, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:29:39 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:29:46 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:29:46 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:36:51 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:36:53 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:36:53 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:38:27 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:38:27 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:38:27 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:43:05 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:43:07 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:43:08 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:57:36 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:57:38 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 16:57:38 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:04:11 - main - ERROR - unique_violation
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.IntegrityError: duplicate key value violates unique constraint "urls_pkey"
DETAIL:  Key (id)=(1) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 80, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.IntegrityError) duplicate key value violates unique constraint "urls_pkey"
DETAIL:  Key (id)=(1) already exists.
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/gkpj)
2018-05-27 17:04:11 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:04:15 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:04:17 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 50, in resolve
    url =  DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:14:46 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:14:49 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:14:49 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:16:49 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:16:51 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:16:51 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:21:01 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('http://www.varzesh3.com') RE...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('http://www.varzesh3.com') RE...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'http://www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:21:01 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:21:01 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:23:16 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('user_id_seq'), '...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (id, url) VALUES (nextval('user_id_seq'), '...
                    ^
 [SQL: "INSERT INTO urls (id, url) VALUES (nextval('user_id_seq'), %(url)s) RETURNING urls.id"] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:23:16 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:23:16 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:27:35 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:27:37 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:27:39 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:29:40 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:29:41 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:29:43 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:29:45 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 93, in wrapper
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:29:45 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:30:17 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:30:18 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:30:20 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/restfulpy/orm/__init__.py", line 92, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 45, in store
    new_url = Url(url)
TypeError: __init__() takes 1 positional argument but 2 were given
2018-05-27 17:30:20 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:31:31 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:31:31 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:31:31 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:46:05 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('a.com') RETURNING urls.id
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('a.com') RETURNING urls.id
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'a.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-27 17:46:20 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('a.com') RETURNING urls.id
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('a.com') RETURNING urls.id
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'a.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:45:24 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:46:25 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:46:25 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:46:28 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:53:14 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 88, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 52, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 09:54:20 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 84, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 46, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 10:32:10 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 85, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 47, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 10:57:54 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 10:58:22 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 10:59:52 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:01:58 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:01:59 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:02:40 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:03:15 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:26 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:26 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:27 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:33 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:35 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:37 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:04:37 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:06:01 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:06:21 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('www.varzesh3.com') RETURNING...
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'www.varzesh3.com'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:06:23 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:07:43 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('wewewewe') RETURNING urls.id
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('wewewewe') RETURNING urls.id
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'wewewewe'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:09:24 - main - ERROR - undefined_table
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('wewewewe') RETURNING urls.id
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 89, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 49, in store
    DBSession.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 943, in commit
    self.transaction.commit()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 467, in commit
    self._prepare_impl()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 447, in _prepare_impl
    self.session.flush()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation "urls" does not exist
LINE 1: INSERT INTO urls (url) VALUES ('wewewewe') RETURNING urls.id
                    ^
 [SQL: 'INSERT INTO urls (url) VALUES (%(url)s) RETURNING urls.id'] [parameters: {'url': 'wewewewe'}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:30:59 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:31:08 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:34:43 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:34:44 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 93, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 57, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:36:49 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 92, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 56, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:36:57 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 92, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 56, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:44:47 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:44:48 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:45:05 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:45:57 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:46:19 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:47:10 - main - ERROR - syntax_error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 64, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 28, in resolve
    url = DBSession.query(Url).filter_by(id=db_id).first()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2825, in first
    ret = list(self[0:1])
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2617, in __getitem__
    return list(res)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2925, in __iter__
    return self._execute_and_instances(context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2948, in _execute_and_instances
    result = conn.execute(querycontext.statement, self._params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near ")"
LINE 3: WHERE urls.id = () 
                         ^
 [SQL: 'SELECT urls.id AS urls_id, urls.url AS urls_url \nFROM urls \nWHERE urls.id = %(id_1)s \n LIMIT %(param_1)s'] [parameters: {'id_1': (), 'param_1': 1}] (Background on this error at: http://sqlalche.me/e/f405)
2018-05-28 11:58:11 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 60, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    url_exist = DBSession.query(Url).filter_by(url=url).one_or_none()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2863, in one_or_none
    "Multiple rows were found for one_or_none()")
sqlalchemy.orm.exc.MultipleResultsFound: Multiple rows were found for one_or_none()
2018-05-28 11:58:18 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 60, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    url_exist = DBSession.query(Url).filter_by(url=url).one_or_none()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2863, in one_or_none
    "Multiple rows were found for one_or_none()")
sqlalchemy.orm.exc.MultipleResultsFound: Multiple rows were found for one_or_none()
2018-05-28 11:59:43 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 60, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    url_exist = DBSession.query(Url).filter_by(url=url).one_or_none()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2863, in one_or_none
    "Multiple rows were found for one_or_none()")
sqlalchemy.orm.exc.MultipleResultsFound: Multiple rows were found for one_or_none()
2018-05-28 11:59:49 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 60, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    url_exist = DBSession.query(Url).filter_by(url=url).one_or_none()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2863, in one_or_none
    "Multiple rows were found for one_or_none()")
sqlalchemy.orm.exc.MultipleResultsFound: Multiple rows were found for one_or_none()
2018-05-28 11:59:56 - main - ERROR - Internal Server Error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/helpers.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 60, in post
    return dict(hash_id=new_db.store(context.form.get('url')))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 17, in store
    url_exist = DBSession.query(Url).filter_by(url=url).one_or_none()
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/sqlalchemy/orm/query.py", line 2863, in one_or_none
    "Multiple rows were found for one_or_none()")
sqlalchemy.orm.exc.MultipleResultsFound: Multiple rows were found for one_or_none()
2018-05-28 12:34:09 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    return url.url
AttributeError: 'NoneType' object has no attribute 'url'
2018-05-28 12:34:24 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    return url.url
AttributeError: 'NoneType' object has no attribute 'url'
2018-05-28 12:36:29 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:36:34 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:36:41 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:36:45 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:52:31 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 65, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:52:35 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 65, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:52:43 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 65, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:52:43 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 65, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:54:42 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 65, in resolve
    raise HttpFound(new_db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 30, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:57:34 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 32, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:57:37 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 32, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:57:50 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 32, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 12:57:53 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 67, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 32, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:20:10 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 71, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:20:13 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 71, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:20:19 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 71, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:20:19 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 71, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:55:09 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:55:12 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:55:18 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:55:22 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:55:26 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 13:57:18 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:01:11 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:04:07 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:04:07 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:04:26 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:04:32 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 73, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 33, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:15:19 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 74, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 34, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:16:37 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 74, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 34, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
2018-05-28 14:17:34 - main - ERROR - Internal server error
Traceback (most recent call last):
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/application.py", line 64, in __call__
    response_body = self.__root__(*remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 83, in __call__
    return self._serve_handler(handler, remaining_paths)
  File "/home/mohammad/.virtualenvs/urlshortener/lib/python3.6/site-packages/nanohttp/controllers.py", line 78, in _serve_handler
    return handler(*remaining_paths, **kwargs)
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 74, in resolve
    raise HttpFound(db.resolve(hexstring))
  File "/home/mohammad/workspace/urlshortener/urlshortener/controllers/root.py", line 34, in resolve
    db_id, = hashids.decode(hash_id)
ValueError: not enough values to unpack (expected 1, got 0)
